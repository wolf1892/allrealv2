(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5277,9078,1413,3161,5666,1605],{9962:function(e,t,n){Promise.resolve().then(n.bind(n,9417))},9417:function(e,t,n){"use strict";var o=n(9533),r=n(1229),i=n(1814),s=n(9031),c=n(1523);t.default=e=>{let{splatUrl:t,initialCameraPosition:n=[0,0,0],rotation:a=[0,0,1,0],initialCameraLookAt:l=[0,0,0],moveSpeed:d=.005,xBounds:m,yBounds:u,zBounds:h}=e,p=(0,r.useRef)(null),v=(0,r.useRef)(null),[x,k]=(0,r.useState)(!1),w=(0,r.useRef)(null),[f,E]=(0,r.useState)({position:new s.Pa4,rotation:new s.USm}),b=(0,r.useRef)(new s.SUY),[y,M]=(0,r.useState)(0),[j,g]=(0,r.useState)([]),L=(0,r.useRef)(0),P=(0,r.useRef)(0),[A,S]=(0,r.useState)(!1),[D,N]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{k(!0);let e=()=>{N(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{if(!x||p.current)return;let e=new c.AE({initialCameraPosition:n,initialCameraLookAt:l,sharedMemoryForWorkers:!1,selfDrivenMode:!0,useBuiltInControls:!1,rootElement:v.current,ignoreDevicePixelRatio:!0});e.addSplatScene(t,{showLoadingUI:!0,rotation:a||[0,0,1,0]}).then(()=>{e.start(),w.current=new i.q(e.camera,e.renderer.domElement),v.current&&v.current.addEventListener("click",function(){w.current&&(w.current.lock(),S(!0))}),document.addEventListener("keydown",D),document.addEventListener("keyup",N),requestAnimationFrame(_)}),p.current=e;let o=!1,r=!1,k=!1,f=!1,y=!1,j=!1,A=new s.Pa4,D=function(e){switch(e.code){case"ArrowUp":case"KeyW":o=!0;break;case"ArrowLeft":case"KeyA":k=!0;break;case"ArrowDown":case"KeyS":r=!0;break;case"ArrowRight":case"KeyD":f=!0;break;case"KeyE":y=!0;break;case"KeyQ":j=!0}},N=function(e){switch(e.code){case"ArrowUp":case"KeyW":o=!1;break;case"ArrowLeft":case"KeyA":k=!1;break;case"ArrowDown":case"KeyS":r=!1;break;case"ArrowRight":case"KeyD":f=!1;break;case"KeyE":y=!1;break;case"KeyQ":j=!1}};function _(){var t;if((null===(t=w.current)||void 0===t?void 0:t.isLocked)===!0){let t=e.camera;t.position,A.set(0,0,0),o&&(A.z-=1),r&&(A.z+=1),k&&(A.x-=1),f&&(A.x+=1),y&&(A.y+=1),j&&(A.y-=1),A.length()>0&&A.normalize(),w.current.moveRight(A.x*d),w.current.moveForward(-A.z*d),t.position.y+=A.y*d,m&&(t.position.x=Math.max(m[0],Math.min(t.position.x,m[1]))),u&&(t.position.y=Math.max(u[0],Math.min(t.position.y,u[1]))),h&&(t.position.z=Math.max(h[0],Math.min(t.position.z,h[1]))),E({position:t.position.clone(),rotation:t.rotation.clone()})}let n=b.current.getElapsedTime();if(L.current++,n-P.current>=1){let e=Math.round(L.current/(n-P.current));M(e),g(t=>[...t,{time:Math.floor(n),fps:e}].slice(-10)),L.current=0,P.current=n}requestAnimationFrame(_)}return()=>{var e;null===(e=p.current)||void 0===e||e.stop(),document.removeEventListener("keydown",D),document.removeEventListener("keyup",N)}},[x,t,n,a,l,d,m,u,h]),D)?(0,o.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-background text-white p-4 text-center",children:(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Desktop Version Only"}),(0,o.jsx)("p",{className:"mb-2",children:"We're sorry, but this 3D tour is currently only available on desktop devices."}),(0,o.jsx)("p",{children:"Mobile support coming soon!"})]})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"w-full h-full rounded-xl",ref:v,id:"viewer-container"}),!A&&(0,o.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,o.jsxs)("div",{className:"bg-black bg-opacity-75 p-6 rounded text-white text-center",children:[(0,o.jsx)("p",{className:"text-2xl font-bold mb-4",children:"Click to Start"}),(0,o.jsx)("p",{className:"mb-4",children:"Click anywhere to enable controls and look around"}),(0,o.jsxs)("div",{className:"text-left",children:[(0,o.jsx)("p",{className:"font-bold mb-2",children:"Controls:"}),(0,o.jsx)("p",{children:"WASD: Move"}),(0,o.jsx)("p",{children:"Q/E: Move Down/Up"}),(0,o.jsx)("p",{children:"Mouse: Look around"})]})]})}),(0,o.jsx)("div",{className:"absolute top-4 left-4",children:(0,o.jsxs)("div",{className:"bg-black bg-opacity-50 text-white p-2 rounded",children:[(0,o.jsxs)("div",{children:["FPS: ",y]}),(0,o.jsx)("div",{children:"Mode: First Person"}),(0,o.jsxs)("p",{children:["Position: ",f.position.toArray().map(e=>e.toFixed(2)).join(", ")]}),(0,o.jsxs)("p",{children:["Rotation: ",f.rotation.toArray().slice(0,3).map(e=>(180*e/Math.PI).toFixed(2)).join(", "),"\xb0"]})]})}),(0,o.jsx)("div",{className:"absolute top-4 right-4",children:(0,o.jsxs)("div",{className:"bg-black bg-opacity-50 text-white p-2 rounded",children:[(0,o.jsx)("p",{className:"font-bold mb-2",children:"Controls:"}),(0,o.jsx)("p",{children:"WASD: Move"}),(0,o.jsx)("p",{children:"Q/E: Move Down/Up"}),(0,o.jsx)("p",{children:"Mouse: Look around"}),(0,o.jsx)("p",{children:"Esc: Exit Controls"})]})})]})}},1814:function(e,t,n){"use strict";n.d(t,{q:function(){return d}});var o=n(9031);let r=new o.USm(0,0,0,"YXZ"),i=new o.Pa4,s={type:"change"},c={type:"lock"},a={type:"unlock"},l=Math.PI/2;class d extends o.pBf{constructor(e,t){super(),this.camera=e,this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,this._onMouseMove=m.bind(this),this._onPointerlockChange=u.bind(this),this._onPointerlockError=h.bind(this),this.connect()}connect(){this.domElement.ownerDocument.addEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this._onPointerlockError)}disconnect(){this.domElement.ownerDocument.removeEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this._onPointerlockError)}dispose(){this.disconnect()}getObject(){return this.camera}getDirection(e){return e.set(0,0,-1).applyQuaternion(this.camera.quaternion)}moveForward(e){let t=this.camera;i.setFromMatrixColumn(t.matrix,0),i.crossVectors(t.up,i),t.position.addScaledVector(i,e)}moveRight(e){let t=this.camera;i.setFromMatrixColumn(t.matrix,0),t.position.addScaledVector(i,e)}lock(){this.domElement.requestPointerLock()}unlock(){this.domElement.ownerDocument.exitPointerLock()}}function m(e){if(!1===this.isLocked)return;let t=e.movementX||e.mozMovementX||e.webkitMovementX||0,n=e.movementY||e.mozMovementY||e.webkitMovementY||0,o=this.camera;r.setFromQuaternion(o.quaternion),r.y-=.002*t*this.pointerSpeed,r.x-=.002*n*this.pointerSpeed,r.x=Math.max(l-this.maxPolarAngle,Math.min(l-this.minPolarAngle,r.x)),o.quaternion.setFromEuler(r),this.dispatchEvent(s)}function u(){this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(c),this.isLocked=!0):(this.dispatchEvent(a),this.isLocked=!1)}function h(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}}},function(e){e.O(0,[174,9079,4170,6842,1744],function(){return e(e.s=9962)}),_N_E=e.O()}]);